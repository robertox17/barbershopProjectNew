{"ast":null,"code":"var _jsxFileName = \"/Users/school/Desktop/barbershopProjectNew/client/src/pages/login/index.js\",\n  _s = $RefreshSig$();\nimport '../../styles/login/styles.css';\n// import logo from '../../public/razor.png'\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useMutation } from '@apollo/client';\n// import { ADD_USER } from '../../utils/mutations';\nimport { LOGIN } from '../../utils/mutations';\nimport Auth from '../../utils/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const [userFormData, setUserFormData] = useState({\n    username: '',\n    password: ''\n  });\n  const [validated] = useState(false);\n  const [showAlert, setShowAlert] = useState(false);\n  const navigate = useNavigate();\n  const [login, {\n    error\n  }] = useMutation(LOGIN);\n\n  // const redirectToPage = () => {\n  //   //Redirect to the python page\n  //   navigate(\"/Admin\");\n  // };\n  useEffect(() => {\n    if (error) {\n      setShowAlert(true);\n    } else {\n      setShowAlert(false);\n    }\n  }, [error]);\n  const handleInputChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setUserFormData({\n      ...userFormData,\n      [name]: value\n    });\n  };\n  const handleFormSubmit = async event => {\n    event.preventDefault();\n    const form = event.currentTarget;\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n    try {\n      const {\n        data\n      } = await login({\n        variables: {\n          ...userFormData\n        }\n      });\n      console.log(data);\n      Auth.login(data.login.token);\n    } catch (e) {\n      console.error(e);\n    }\n\n    // clear form values\n    setUserFormData({\n      username: '',\n      password: ''\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"block2\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form\",\n      noValidate: true,\n      validated: validated,\n      onSubmit: handleFormSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"name\",\n        children: \"Hello Abraham\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input\",\n        value: userFormData.username,\n        name: \"username\",\n        onChange: handleInputChange,\n        type: \"text\",\n        placeholder: \"username\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input\",\n        value: userFormData.password,\n        name: \"password\",\n        onChange: handleInputChange,\n        type: \"password\",\n        placeholder: \"Password\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"input\",\n        disabled: !(userFormData.username && userFormData.password),\n        type: \"submit\",\n        variant: \"success\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"T4n5n/jKBgy93DlkxypaRVqHZWc=\", false, function () {\n  return [useNavigate, useMutation];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useMutation","LOGIN","Auth","Login","userFormData","setUserFormData","username","password","validated","showAlert","setShowAlert","navigate","login","error","handleInputChange","event","name","value","target","handleFormSubmit","preventDefault","form","currentTarget","checkValidity","stopPropagation","data","variables","console","log","token","e"],"sources":["/Users/school/Desktop/barbershopProjectNew/client/src/pages/login/index.js"],"sourcesContent":["import '../../styles/login/styles.css'\n// import logo from '../../public/razor.png'\nimport React,{useState,useEffect} from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport { useMutation } from '@apollo/client';\n// import { ADD_USER } from '../../utils/mutations';\nimport { LOGIN } from '../../utils/mutations';\n\n\nimport Auth from '../../utils/auth';\nfunction Login() {\n  const [userFormData, setUserFormData] = useState({ username: '', password: '' });\n  const [validated] = useState(false);\n  const [showAlert, setShowAlert] = useState(false);\n  const navigate = useNavigate();\n\n  const [login, { error }] = useMutation(LOGIN);\n\n  // const redirectToPage = () => {\n  //   //Redirect to the python page\n  //   navigate(\"/Admin\");\n  // };\n  useEffect(() => {\n    if (error) {\n      setShowAlert(true);\n    } else {\n      setShowAlert(false);\n    }\n  }, [error]);\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    setUserFormData({ ...userFormData, [name]: value });\n  };\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    const form = event.currentTarget;\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    try {\n      const { data } = await login({\n        variables: { ...userFormData },\n      });\n\n      console.log(data);\n      Auth.login(data.login.token);\n    } catch (e) {\n      console.error(e);\n    }\n\n    // clear form values\n    setUserFormData({\n      username: '',\n      password: '',\n    });\n  };\n\n  return (\n    <div className='block2'>\n      <form className='form' noValidate validated={validated} onSubmit={handleFormSubmit}>\n      <h1 className='name'>Hello Abraham</h1>\n      {/* <img className='newrzr' src={logo}/> */}\n        <input\n          className='input'\n          value={userFormData.username}\n          name=\"username\"\n          onChange={handleInputChange}\n          type=\"text\"\n          placeholder=\"username\"\n          required\n        />\n        <input\n          className='input'\n          value={userFormData.password}\n          name=\"password\"\n          onChange={handleInputChange}\n          type=\"password\"\n          placeholder=\"Password\"\n          required\n        />\n        <button\n        className='input' \n        disabled={!(userFormData.username && userFormData.password)}\n        type=\"submit\" \n        variant='success'\n        >Login\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}